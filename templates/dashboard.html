{% extends "base.html" %}

{% block title %}Dashboard de Seguridad{% endblock %}

{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}" defer></script>
{% endblock %}

{% block content %}

<section class="dashboard-header">
  <h1>ğŸ” Dashboard de Seguridad</h1>
  <p>AnÃ¡lisis automÃ¡tico de registros de seguridad</p>
</section>

<div class="dashboard-grid">

  <!-- RESUMEN -->
  <section class="card summary">
    <h2>ğŸ“Š Resumen general</h2>
    <p id="total"></p>
  </section>

  <!-- HOSTS -->
  <section class="card">
    <div class="card-header">
      <h2>ğŸŒ Hosts mÃ¡s agresivos</h2>
      <a href="{{ url_for('hosts.hosts') }}" class="link-detail">
        Ver detalle â†’
      </a>
    </div>

    <ul id="rhosts" class="list"></ul>
  </section>

  <!-- ExportaciÃ³n -->
  <section class="card">
    <div class="card-header">
      <h2>â¬‡ ExportaciÃ³n de Inteligencia</h2>
      <a href="{{ url_for('export.export') }}" class="link-detail">
        Ver detalle â†’
      </a>
    </div>
  </section>

  <!-- USUARIOS -->
  <section class="card">
    <h2>ğŸ‘¤ Usuarios mÃ¡s atacados</h2>
    <ul id="users" class="list"></ul>
  </section>

  <!-- GRÃFICOS -->
  <section class="card">
    <h2>ğŸ“Š Top 5 Hosts mÃ¡s agresivos</h2>
    <canvas id="hostsChart"></canvas>
  </section>

  <section class="card">
    <h2>ğŸ“Š Usuarios mÃ¡s atacados</h2>
    <canvas id="usersChart"></canvas>
  </section>

</div>

{% endblock %}